# 📝 Sayo's Journal 開発要件定義書 v1.0

**VibeCoding 開発用 / Phase1・Phase2 構成**

---

## 第 1 章　プロジェクト概要

### 1.1 　プロジェクト名

**「Sayo's Journal」**  
― 言葉で"場所・人・記憶"をつなぐブログメディア ―

### 1.2 　目的

ライター・インタビュアーである本岡紗代氏（sayo-kotoba.com）の世界観を Web 上で再構築し、「文章 × 写真 × 体験」を通して、読者に"物語を感じさせるブログサイト"を構築する。

**既存 80 記事のマイグレーション**を前提とし、Supabase によるデータ管理で拡張性と保守性を確保する。

### 1.3 　開発フェーズ構成

| フェーズ    | 内容                                                     | 期間目安 |
| ----------- | -------------------------------------------------------- | -------- |
| **Phase 1** | コア機能実装（トップページ、フィルター、記事表示）       | 2-3 週間 |
| **Phase 2** | インタラクション強化（スクロール進行、目次、関連記事等） | 1-2 週間 |

---

## 第 2 章　デザインコンセプト

### 2.1 　全体テーマ

**「詩的サイケデリック × 装飾的ナラティブ」**

紗代氏が愛好する 5 人のアーティストの美学を融合：

- **ピーター・マックス**のビビッドな色彩とコズミックな世界観
- **ヴィクター・モスコソ**の強烈なコントラストと視覚錯視
- **オーブリー・ビアズリー**の装飾的な線と流麗な曲線
- **ルネ・マグリット**の詩的な余白と意外性
- **ミレー《オフィーリア》**の自然への細密描写と幻想性

### 2.2 　方向性キーワード

- **ビビッドでありながら上品** - サイケデリックな鮮やかさと装飾的な繊細さの両立
- **線と色の調和** - モノクロームの装飾線画 × 鮮やかなカテゴリカラー
- **自然と幻想の交差** - ラファエル前派的な自然観察と非日常的な構成
- **動きと静けさ** - サイケデリックな動的要素と詩的な静的空間
- **物語を感じさせる細部** - 細密描写による没入感

---

## 第 3 章　デザイン要件

### 3.1 　デザインインスピレーション

本サイトのデザインは、紗代氏が愛好する以下のアーティストの美学から着想を得る：

| アーティスト               | 画風の特徴                                                         | サイトへの反映                                     |
| -------------------------- | ------------------------------------------------------------------ | -------------------------------------------------- |
| **ピーター・マックス**     | サイケデリック、ビビッドな色彩、コズミックなスタイル、ポップアート | 大胆な色使い、グラデーション、動きのあるモーション |
| **ヴィクター・モスコソ**   | 強烈な色彩コントラスト、写真コラージュ、視覚錯視                   | カテゴリー間の鮮やかな色の対比、レイヤード効果     |
| **オーブリー・ビアズリー** | モノクロームの装飾的な線画、アールヌーボー、流麗な曲線             | 繊細な装飾パターン、有機的な曲線要素               |
| **ルネ・マグリット**       | シュルレアリスム、日常と非日常の融合、詩的なタイトル               | 意外性のある構成、哲学的な余白                     |
| **ミレー《オフィーリア》** | ラファエル前派、自然への忠実さ、細密描写、幻想的                   | 写真の丁寧な扱い、自然モチーフ、物語性             |

### 3.2 　デザインコンセプト（改訂版）

**「詩的サイケデリック × 装飾的ナラティブ」**

- **ビビッドでありながら上品**：サイケデリックな色彩感覚を持ちつつ、ビアズリーの繊細さで洗練
- **線と色の対比**：モノクロームの装飾的な線画要素 × 鮮やかなカテゴリカラー
- **自然への敬意**：ラファエル前派的な自然観察、細部への丁寧さ
- **非日常の余白**：マグリット的な詩的な空間、意外性のあるレイアウト

### 3.3 　カラーパレット（Tailwind 準拠）

#### 基本色

| 用途                  | 色コード  | 説明                                 |
| --------------------- | --------- | ------------------------------------ |
| **Primary**           | `#FF6B9D` | ビビッドなローズ（サイケデリック的） |
| **Primary Hover**     | `#FF8FB3` | ホバー時明るく                       |
| **Background**        | `#FAF8F5` | 柔らかなオフホワイト                 |
| **Background Dark**   | `#2D2B29` | 深いチャコール（アクセント用）       |
| **Text Primary**      | `#1A1816` | リッチブラック                       |
| **Text Secondary**    | `#6B6865` | ミディアムグレー                     |
| **Accent Turquoise**  | `#4ECDC4` | ターコイズ（コズミック感）           |
| **Accent Purple**     | `#9B59B6` | パープル（ミステリアス）             |
| **Border Decorative** | `#D4C5B9` | 装飾的な境界線                       |

#### カテゴリ別カラー設計（ビビッドグラデーション）

| カテゴリ           | メインカラー | グラデーション      | 用途                   |
| ------------------ | ------------ | ------------------- | ---------------------- |
| **人と暮らし**     | `#E8A87C`    | `#E8A87C → #F5C794` | タグ・カードアクセント |
| **食と時間**       | `#FFB75E`    | `#FFB75E → #FFD194` | 同上                   |
| **風景とめぐり**   | `#4FC3F7`    | `#4FC3F7 → #81D4FA` | 同上                   |
| **旅と出会い**     | `#5C6BC0`    | `#5C6BC0 → #7986CB` | 同上                   |
| **伝統と手しごと** | `#8D6E63`    | `#8D6E63 → #A1887F` | 同上                   |
| **自然と暮らす**   | `#66BB6A`    | `#66BB6A → #81C784` | 同上                   |
| **言葉ノート**     | `#AB47BC`    | `#AB47BC → #BA68C8` | 同上                   |

### 3.4 　フォントシステム

| 用途                   | フォント                             | 備考                           |
| ---------------------- | ------------------------------------ | ------------------------------ |
| **見出し／タイトル**   | Playfair Display, Cormorant Garamond | セリフ体、ビアズリー的な装飾性 |
| **本文（和文）**       | Noto Serif JP, 游明朝体              | 可読性と温もり                 |
| **UI・ナビゲーション** | Noto Sans JP                         | クリーンでモダン               |
| **装飾テキスト**       | Raleway, Quicksand                   | サイケデリック的な軽やかさ     |

### 3.5 　ビジュアルスタイル

#### 装飾要素

- **ビアズリー風装飾**：ヘッダー・フッターに流麗な曲線の SVG パターン
- **サイケデリックグラデーション**：カードホバー時にグラデーション表示
- **視覚錯視効果**：モスコソ風の色彩コントラストを控えめに活用

#### レイアウト

- **非日常の余白**：マグリット的な余白の使い方、意外性のある配置
- **細密と大胆の対比**：細かい装飾 × 大きな余白
- **カードデザイン**：角丸 `rounded-xl` + グラデーションシャドウ

#### 写真の扱い

- **ラファエル前派的アプローチ**：自然光を活かした写真、細部まで丁寧に
- **コラージュ効果**：モスコソ風の多層レイヤー表示（Phase2）
- **カラーフィルター**：カテゴリごとに微細なカラートーン調整

#### アニメーション

- **カードホバー**：`scale: 1.03` + グラデーションシフト（サイケデリック風）
- **スクロール演出**：ゆったりとした視差効果（コズミック感）
- **装飾線の動き**：SVG 装飾がわずかに波打つアニメーション（Phase2）

### 3.6 　アイコン・グラフィック要素

- **アイコン**：Lucide Icons をベースに、一部カスタマイズ
- **装飾パターン**：ビアズリー風の有機的曲線を SVG で実装
- **区切り線**：単純な直線ではなく、装飾的な波線や蔦模様

### 3.7 　デザイン実装の優先順位

**Phase1**

- カテゴリ別グラデーションカラー
- 基本的なカードホバーアニメーション
- 装飾的なヘッダー・フッター

**Phase2**

- SVG 装飾パターンのアニメーション
- 写真のコラージュ効果
- 視覚錯視を活用したインタラクション

---

## 第 4 章　機能要件（Phase1）

### 4.1 　トップページ（カード＋フィルター）

#### 構成

```
Header（ロゴ・ナビ・検索バー）
    ↓
FilterBar（カテゴリ・並び替え）
    ↓
Card Grid（記事カード一覧）
    ↓
Pagination
    ↓
Footer
```

#### 主な機能

| 機能                     | 内容                         | 技術                           |
| ------------------------ | ---------------------------- | ------------------------------ |
| **フィルター**           | カテゴリ別表示切替           | URL パラメータ `?category=xxx` |
| **ソート**               | 新着順・人気順（PV 数）      | Supabase ORDER BY              |
| **カードアニメーション** | ホバー時の scale/shadow 変化 | Framer Motion                  |
| **検索**                 | タイトル・本文全文検索       | Supabase Full-Text Search      |
| **レスポンシブ**         | 1〜3 列グリッド              | Tailwind Grid                  |
| **ページネーション**     | 12 記事/ページ               | URL パラメータ `?page=n`       |

#### UI コンポーネント

- `<Header />` - ロゴ、ナビゲーション、検索バー
- `<FilterBar />` - カテゴリフィルター、ソート切替
- `<PostCard />` - 記事カード（サムネイル、タイトル、カテゴリタグ、日付）
- `<Pagination />` - ページネーション
- `<Footer />` - フッター

### 4.2 　記事ページ（基本表示）

#### 構成

```
HeroSection（タイトル・OG画像・日付・カテゴリ）
    ↓
ArticleBody（本文）
    ↓
Footer
```

#### 主な機能

| 機能                 | 内容                          |
| -------------------- | ----------------------------- |
| **マークダウン表示** | HTML 変換済みコンテンツの表示 |
| **画像表示**         | Supabase Storage から取得     |
| **カテゴリバッジ**   | カテゴリ別カラー適用          |
| **日付表示**         | 公開日・更新日                |
| **レスポンシブ**     | モバイル最適化                |

---

## 第 5 章　機能要件（Phase2）

### 5.1 　インタラクション強化

| 機能                         | 内容                                 | 技術                        |
| ---------------------------- | ------------------------------------ | --------------------------- |
| **スクロール進行バー**       | ページ上部に読了率を表示             | Framer Motion `useScroll`   |
| **目次固定表示**             | サイドバーに目次、現在位置ハイライト | IntersectionObserver        |
| **画像拡大機能**             | クリックで Lightbox 表示             | shadcn/ui Dialog            |
| **関連記事表示**             | 同カテゴリ記事をカード表示           | Supabase 関連クエリ         |
| **リアクションバー**         | 感情ボタン（💡🩷👍🔥）+ カウント      | Supabase Realtime           |
| **セクションアニメーション** | スクロールに応じてフェードイン       | Framer Motion `whileInView` |

---

## 第 6 章　技術要件

### 6.1 　技術スタック

| 分類               | 内容                                   |
| ------------------ | -------------------------------------- |
| **フレームワーク** | Next.js 15（App Router）               |
| **スタイリング**   | Tailwind CSS + Framer Motion           |
| **UI ライブラリ**  | shadcn/ui, Lucide Icons                |
| **データベース**   | Supabase（PostgreSQL）                 |
| **ストレージ**     | Supabase Storage（画像管理）           |
| **認証**           | Supabase Auth（管理者用、Phase2 以降） |
| **SEO**            | next-seo + 動的 OGP                    |
| **ホスティング**   | Vercel（ISR 構成）                     |
| **開発環境**       | VibeCoding + GitHub 連携               |

### 6.2 　 Supabase データベース設計

#### テーブル: `posts`

| カラム          | 型        | 説明                     |
| --------------- | --------- | ------------------------ |
| `id`            | UUID      | 主キー                   |
| `title`         | TEXT      | 記事タイトル             |
| `slug`          | TEXT      | URL スラッグ（ユニーク） |
| `content`       | TEXT      | 本文（HTML）             |
| `excerpt`       | TEXT      | 抜粋文                   |
| `category`      | TEXT      | カテゴリ名               |
| `tags`          | TEXT[]    | タグ配列                 |
| `thumbnail_url` | TEXT      | サムネイル URL           |
| `view_count`    | INTEGER   | 閲覧数                   |
| `published_at`  | TIMESTAMP | 公開日                   |
| `updated_at`    | TIMESTAMP | 更新日                   |
| `is_published`  | BOOLEAN   | 公開状態                 |

#### テーブル: `reactions`（Phase2）

| カラム          | 型      | 説明                                        |
| --------------- | ------- | ------------------------------------------- |
| `id`            | UUID    | 主キー                                      |
| `post_id`       | UUID    | 記事 ID（外部キー）                         |
| `reaction_type` | TEXT    | リアクション種類（light/heart/thumbs/fire） |
| `count`         | INTEGER | カウント数                                  |

### 6.3 　 API 設計

| エンドポイント           | メソッド | 説明                                   |
| ------------------------ | -------- | -------------------------------------- |
| `/api/posts`             | GET      | 記事一覧取得（フィルター・ソート対応） |
| `/api/posts/[slug]`      | GET      | 個別記事取得                           |
| `/api/posts/[slug]/view` | POST     | 閲覧数カウントアップ                   |
| `/api/reactions`         | POST     | リアクション追加（Phase2）             |

---

## 第 7 章　モーション仕様

### 7.1 　 Phase1（基本モーション）

| 対象               | モーション                  | 設定                     |
| ------------------ | --------------------------- | ------------------------ |
| **カードホバー**   | `scale: 1.02, y: -2px`      | `duration: 0.2s`         |
| **カード初期表示** | `opacity: 0 → 1, y: 20 → 0` | `staggerChildren: 0.05s` |
| **フィルター切替** | `layout animation`          | Framer Motion `layoutId` |

### 7.2 　 Phase2（インタラクション強化）

| 対象                       | モーション                   | 設定                       |
| -------------------------- | ---------------------------- | -------------------------- |
| **セクションフェードイン** | `whileInView`                | `viewport: { once: true }` |
| **スクロール進行バー**     | `scaleX: 0 → 1`              | `useScroll` hook           |
| **関連記事スライドイン**   | `x: 100 → 0, opacity: 0 → 1` | `delay: 0.2s`              |

---

## 第 8 章　非機能要件

| 項目                 | 内容                                       |
| -------------------- | ------------------------------------------ |
| **パフォーマンス**   | 初期読み込み 2.5s 以内、Lighthouse 90 以上 |
| **レスポンシブ**     | 375px〜1920px 対応                         |
| **アクセシビリティ** | alt 属性・見出し階層・キーボード操作対応   |
| **SEO 最適化**       | 構造化データ・meta タグ自動生成            |
| **拡張性**           | 記事追加・カテゴリ追加が容易               |

---

## 第 9 章　データマイグレーション計画

### 9.1 　既存データ

- **記事数**: 80 記事
- **形式**: Excel バックアップ
- **画像**: 別途バックアップ済み

### 9.2 　マイグレーション手順

1. Excel データを整形（CSV 化）
2. Supabase Storage に画像アップロード
3. CSV → Supabase インポート（またはスクリプト実行）
4. URL スラッグ生成・サムネイル設定
5. 動作確認

**Phase1 開発時**: ダミーデータ（5-10 記事）で構築

---

## 第 10 章　開発環境セットアップ

### 10.1 　必要な準備

- [ ] GitHub リポジトリ作成
- [ ] Vercel アカウント準備
- [ ] Supabase プロジェクト作成
- [ ] 環境変数設定（`.env.local`）

### 10.2 　環境変数

```bash
# Supabase
NEXT_PUBLIC_SUPABASE_URL=your-project-url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# Site Config
NEXT_PUBLIC_SITE_URL=https://sayos-journal.vercel.app
```

---

## 第 11 章　納品物

### Phase1

- Next.js プロジェクト（App Router 構成）
- Tailwind 設定・グローバルスタイル
- 基本コンポーネント群
- Supabase スキーマ定義（SQL）
- README.md（環境構築手順）

### Phase2

- インタラクション機能追加コンポーネント
- アニメーション設定ファイル
- 更新版 README.md

---

## 第 12 章　開発スケジュール（案）

| Week       | Phase  | タスク                                               |
| ---------- | ------ | ---------------------------------------------------- |
| **Week 1** | Phase1 | プロジェクト初期化、Supabase 設定、基本レイアウト    |
| **Week 2** | Phase1 | トップページ実装、フィルター機能、記事ページ基本表示 |
| **Week 3** | Phase1 | レスポンシブ調整、テスト、Phase1 完了                |
| **Week 4** | Phase2 | スクロール進行、目次固定、画像拡大                   |
| **Week 5** | Phase2 | 関連記事、リアクション機能、最終調整                 |

---

## ✅ 最終要約

本サイトは**「柔らかい語り口 × シンプルなモーション」**を核とし、Supabase による堅牢なデータ管理と、Next.js + Tailwind + Framer Motion による洗練された UI を実現する。

**Phase1 でコア機能を確実に実装**し、**Phase2 でインタラクションを強化**する 2 段階構成により、段階的な品質向上を図る。

VibeCoding での開発を前提に、コンポーネント駆動開発を徹底し、保守性と拡張性を担保する。

---

**作成日**: 2025 年 10 月 24 日  
**バージョン**: v1.0  
**作成者**: Claude (Anthropic)
